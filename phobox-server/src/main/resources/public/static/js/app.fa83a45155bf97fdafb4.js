webpackJsonp([0],{"+97c":function(t,e){},"0WEj":function(t,e){},"4OCG":function(t,e){},"4UJ2":function(t,e){},"52Po":function(t,e){},"7A6+":function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,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"},BJj1:function(t,e){},BMHx:function(t,e){},CAfU:function(t,e){},CD2p:function(t,e){},"G/2H":function(t,e,s){t.exports=s.p+"static/img/loading.62d1e04.gif"},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={name:"MainMenu",data:function(){return{show:!1,menuelements:[{title:this.$t("menu.pictures"),address:"#/photos",icon:"fa fa-folder-open"},{title:this.$t("menu.approval"),address:"#/approval",icon:"fa fa-gavel"},{title:this.$t("menu.search"),address:"#/search",icon:"fa fa-search"},{title:this.$t("menu.albums"),address:"#/albums",icon:"fa fa-star"},{title:this.$t("menu.status"),address:"#/status",icon:"fa fa-heartbeat"},{title:this.$t("menu.upload"),address:"#/upload",icon:"fa fa-upload"},{title:this.$t("menu.settings"),address:"#/settings",icon:"fa fa-wrench"},{title:this.$t("menu.about"),address:"#/about",icon:"fa fa-info-circle"}]}},methods:{toggle(){this.show=!this.show},open(t){this.show=!1,window.location=t}},computed:{}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menu"}},[a("div",{staticClass:"headmenu",on:{click:function(e){t.toggle()}}},[a("i",{staticClass:"fa fa-camera-retro",staticStyle:{"font-size":"30px","vertical-align":"middle"}}),t._v(" "),a("img",{attrs:{src:s("7Otq")}})]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.show?a("div",{staticClass:"menuoverlay",on:{click:function(e){t.toggle()}}}):t._e()]),t._v(" "),a("transition",{attrs:{name:"slide"}},[t.show?a("div",{staticClass:"menubar"},[a("div",{staticClass:"menubar_head"},[a("i",{staticClass:"fa fa-camera-retro",staticStyle:{"margin-right":"5px"}}),t._v("PHOBOX\n      ")]),t._v(" "),t._l(t.menuelements,function(e,s){return a("div",{key:s,staticClass:"menuelement",on:{click:function(s){t.open(e.address)}}},[a("i",{class:e.icon,staticStyle:{"margin-right":"5px"}}),t._v(" "),a("a",{attrs:{href:e.address},on:{click:function(e){t.toggle()}}},[t._v("\n          "+t._s(e.title)+"\n        ")])])})],2):t._e()])],1)},staticRenderFns:[]};var r={name:"App",components:{MainMenu:s("VU/8")(i,n,!1,function(t){s("52Po")},null,null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("main-menu"),this._v(" "),e("transition",{attrs:{name:"fade"}},[e("router-view")],1)],1)},staticRenderFns:[]};var l=s("VU/8")(r,o,!1,function(t){s("BJj1")},null,null).exports,c=s("/ocq"),u=s("xs0L"),d={name:"Breadcrumb",props:["path"],data:function(){return{}},methods:{open(t){let e=new u.a,s=e.encodePath(this.$route.params.path),a=e.encodePath(t);s===a?this.$parent.scan(t):this.$router.push({path:"/photos/"+a})}},computed:{generateElements(){let t=(new u.a).decodePath(this.path).split("/").slice(0);t=t.filter(function(t){return""!=t});let e=[];if(e.push({path:"%252F",name:"/"}),t.length){let s="";t.forEach(function(t){s=s+"%252F"+t,t.length>15&&(t=t.substr(0,15)+" ..."),e.push({path:s,name:t})})}return e}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pbreadcrumb"},t._l(t.generateElements,function(e){return s("div",{key:e.path,staticClass:"bc_element",on:{click:function(s){t.open(e.path)}}},[t._v("\n        \n        "+t._s(e.name)+"\n    ")])}))},staticRenderFns:[]};var m=s("VU/8")(d,h,!1,function(t){s("4UJ2")},null,null).exports,p={name:"ItemContextMenu",props:["item","parent"],directives:{ClickOutside:a.a.directive("click-outside",{bind:function(t,e,s){if("function"!=typeof e.value){const t=s.context.name;let a=`[Vue-click-outside:] provided expression '${e.expression}' is not a function, but has to be`;t&&(a+=`Found in component '${t}'`),console.warn(a)}const a=e.modifiers.bubble,i=s=>{(a||!t.contains(s.target)&&t!==s.target)&&e.value(s)};t.__vueClickOutside__=i,document.addEventListener("click",i)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),t.__vueClickOutside__=null}})},data:()=>({contextMenuItem:void 0,menuShow:!1}),methods:{downloadPath(){if(null!=this.item){if("dir"===this.item.type){return"api/photos/download/"+(new u.a).encodePath(this.item.path)}return this.item.path}},toggleMenu(t){this.menuShow=!this.menuShow},closeMenu(){this.menuShow=!1},onClickOutside(t){void 0==t.srcElement&&null!==t.srcElement||""!==t.srcElement.id&&"filebrowser"!==t.srcElement.id||!this.menuShow||this.closeMenu()},onDownload(){this.closeMenu()},onRename(){this.parent.renameItem=this.item,this.closeMenu()},onDelete(){this.parent.deleteItem=this.item,this.closeMenu()},onTags(){this.parent.tagsItem=this.item,this.closeMenu()}},computed:{encodePath(){return this.item.path.replace(/\//g,"_")}},created(){}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contextmenu"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"menuShow"},{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutside,expression:"onClickOutside"}],staticClass:"menu"},[s("ul",[s("li",{staticClass:"menu_element",on:{click:function(e){t.closeMenu()}}},[s("a",{staticClass:"downloadDirectory",attrs:{href:t.downloadPath(),target:"_blank",download:""}},[s("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("pictures.download"))+"\n            ")])]),t._v(" "),s("li",{staticClass:"menu_element",on:{click:t.onRename}},[s("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("pictures.rename")))]),t._v(" "),s("li",{staticClass:"menu_element",on:{click:t.onDelete}},[s("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("pictures.delete")))]),t._v(" "),s("li",{staticClass:"menu_element",on:{click:t.onTags}},[s("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("pictures.tags")))])])])])],1)},staticRenderFns:[]};var v=s("VU/8")(p,_,!1,function(t){s("PuHX")},null,null).exports,f={name:"FileItem",components:{ItemContextMenu:v},props:["item"],data:function(){return{menuShow:!1,contextMenuItem:void 0,SERVER_PATH:""}},methods:{open(t){if("file"===t.type)this.$parent.selectedItem=t;else{let e=(new u.a).encodePath(t.path);this.$router.push({path:"/photos/"+e}),window.scrollTo(0,0)}},downloadPath(){if("dir"===this.item.type){return"api/photos/download/"+(new u.a).encodePath(this.item.path)}return this.item.path},toggleMenu(t){this.$refs.dirContextMenu.toggleMenu()}},computed:{encodePath(){return this.item.path.replace(/\//g,"_")}},created(){}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item_area"},[a("div",{staticClass:"menu_button",on:{click:function(e){t.toggleMenu()}}},[a("i",{staticClass:"fa fa-caret-square-o-down",attrs:{"aria-hidden":"true",id:t.item.name}})]),t._v(" "),a("div",{staticClass:"item",attrs:{id:t.encodePath},on:{click:function(e){t.open(t.item)}}},["file"===t.item.type?a("img",{staticClass:"item_thumb",attrs:{src:t.SERVER_PATH+t.item.thumb}}):t._e(),t._v(" "),"@/assets/stopwatch.png"===t.item.thumb?a("p",{staticClass:"reloadInfo"},[t._v("\n        "+t._s(t.$t("pictures.waitforthumb"))+"\n      ")]):t._e(),t._v(" "),"dir"===t.item.type&&null!=t.item.preview?a("img",{staticClass:"item_thumb",attrs:{src:t.SERVER_PATH+t.item.preview},on:{click:function(e){t.open(t.item)}}}):t._e(),t._v(" "),"dir"===t.item.type&&null==t.item.preview?a("img",{staticClass:"item_thumb_static",attrs:{src:s("vYJG")},on:{click:function(e){t.open(t.item)}}}):t._e(),t._v(" "),"dir"===t.item.type?a("div",{staticClass:"item_name",on:{click:function(e){t.open(t.item)}}},[a("i",{staticClass:"fa fa-folder"}),t._v(" "),a("span",[t._v(t._s(t.item.name))])]):t._e()]),t._v(" "),a("itemContextMenu",{ref:"dirContextMenu",attrs:{item:t.item,parent:t.$parent}})],1)},staticRenderFns:[]};var b=s("VU/8")(f,g,!1,function(t){s("Qwmv")},null,null).exports,w={name:"RenameDialog",props:["item"],data(){return{name:null!==this.item?this.item.name:null,status:null}},methods:{getName(){return null!==this.item?this.item.name:""},save(){(new u.a).rename(this.item.path,this.name,t=>{if(this.status=t.status,"OK"===this.status){let t=this.item.name;null!=this.item.name&&(this.item.name=this.item.name.replaceAll(t,this.name)),null!=this.item.path&&(this.item.path=this.item.path.replaceAll(t,this.name)),null!=this.item.preview&&(this.item.preview=this.item.preview.replaceAll(t,this.name)),null!=this.item.raw&&(this.item.raw=this.item.raw.replaceAll(t,this.name)),null!=this.item.thumbHigh&&(this.item.thumbHigh=this.item.thumbHigh.replaceAll(t,this.name)),null!=this.item.thumbLow&&(this.item.thumbLow=this.item.thumbLow.replaceAll(t,this.name)),this.close()}})},close(){this.$parent.renameItem=null}},watch:{item(){this.name=this.getName()}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.item,expression:"item"}]},[s("div",{staticClass:"menuoverlay",on:{click:function(e){t.close()}}}),t._v(" "),s("div",{staticClass:"dialog",attrs:{id:"renameDialog"}},[s("div",{staticClass:"head"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("pictures.rename_dialog_head"))+" "+t._s(t.getName())+"\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"newname"}},[t._v("Name:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"newname"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")]),t._v(" "+t._s(t.$t("pictures.rename_dialog_failed"))+"\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.save()}}},[t._v(t._s(t.$t("pictures.rename_dialog_save")))]),t._v(" "),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.close()}}},[t._v(t._s(t.$t("pictures.rename_dialog_cancel")))])])])])])},staticRenderFns:[]};var x=s("VU/8")(w,C,!1,function(t){s("NhDq")},null,null).exports,y={name:"DeleteConfirmDialog",props:["item"],data(){return{name:null!==this.item?this.item.name:null,status:null}},methods:{getName(){return null!==this.item?this.item.name:""},getPath(){return null!==this.item?this.item.path:""},deleteItem(){var t=this;(new ComService).delete(this.item.path,function(e){t.status=e.status,"OK"===t.status&&(index=t.$parent.items.indexOf(t.item),index>=0&&t.$parent.items.splice(index,1),t.close())})},close(){this.$parent.deleteItem=null}},watch:{item(){this.name=this.getName()}}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.item,expression:"item"}]},[s("div",{staticClass:"menuoverlay",on:{click:function(e){t.close()}}}),t._v(" "),s("div",{staticClass:"dialog",attrs:{id:"deleteConfirmDialog"}},[s("div",{staticClass:"head"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("pictures.delete_dialog_head"))+" "+t._s(t.getName())+"\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"content"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("pictures.delete_dialog_content"))+"\n\t\t\t\t\t"),s("p",[s("strong",[t._v("'"+t._s(t.getPath())+"'")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")]),t._v(" "+t._s(t.$t("pictures.delete_dialog_failed"))+"\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.deleteItem()}}},[t._v(t._s(t.$t("pictures.delete_dialog_delete")))]),t._v(" "),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.close()}}},[t._v(t._s(t.$t("pictures.delete_dialog_cancel")))])])])])])},staticRenderFns:[]};var k=s("VU/8")(y,P,!1,function(t){s("BMHx")},null,null).exports,A={name:"FavoriteDialog",props:["item"],data:()=>({albums:[],albumSwitch:"existingAlbum",albumname:null,status:null}),methods:{getName(){return null!==this.item?this.item.name:""},loadAlbums(){(new u.a).getAlbums(t=>{this.albums=t})},save(){(new u.a).addToAlbum(this.item.path,this.albumname,t=>{this.status=t.status,"OK"===this.status&&(this.close(),this.loadAlbums())})},close(){this.$parent.favoriteItem=null}},watch:{item(){this.name=this.getName()}},created(){this.loadAlbums()}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.item,expression:"item"}]},[s("div",{staticClass:"menuoverlay",on:{click:function(e){t.close()}}}),t._v(" "),s("div",{staticClass:"dialog",attrs:{id:"favoriteDialog"}},[s("div",{staticClass:"head"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("pictures.favorite_dialog_head"))+" "+t._s(t.getName())+"\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticStyle:{padding:"5px"}},[s("label",{staticClass:"radio-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.albumSwitch,expression:"albumSwitch"}],attrs:{type:"radio",value:"newAlbum"},domProps:{checked:t._q(t.albumSwitch,"newAlbum")},on:{change:function(e){t.albumSwitch="newAlbum"}}}),t._v(t._s(t.$t("pictures.favorite_dialog_new")))]),t._v(" "),s("label",{staticClass:"radio-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.albumSwitch,expression:"albumSwitch"}],attrs:{type:"radio",value:"existingAlbum"},domProps:{checked:t._q(t.albumSwitch,"existingAlbum")},on:{change:function(e){t.albumSwitch="existingAlbum"}}}),t._v(t._s(t.$t("pictures.favorite_dialog_existing")))])]),t._v(" "),"newAlbum"===t.albumSwitch?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"newname"}},[t._v(t._s(t.$t("pictures.favorite_dialog_name"))+":")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.albumname,expression:"albumname"}],staticClass:"form-control",attrs:{type:"text",id:"newname"},domProps:{value:t.albumname},on:{input:function(e){e.target.composing||(t.albumname=e.target.value)}}})]):t._e(),t._v(" "),"existingAlbum"===t.albumSwitch?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"sel2"}},[t._v(t._s(t.$t("pictures.favorite_dialog_select"))+":")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.albumname,expression:"albumname"}],staticClass:"form-control",attrs:{id:"sel2"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.albumname=e.target.multiple?s:s[0]}}},t._l(t.albums,function(e){return s("option",{key:e,attrs:{label:e},domProps:{value:e}},[t._v(t._s(e))])}))]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")]),t._v(" "+t._s(t.$t("pictures.rename_dialog_failed"))+"\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.save()}}},[t._v(t._s(t.$t("pictures.favorite_dialog_add")))]),t._v(" "),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.close()}}},[t._v(t._s(t.$t("pictures.rename_dialog_cancel")))])])])])])},staticRenderFns:[]};var I=s("VU/8")(A,S,!1,function(t){s("7A6+")},null,null).exports,R=s("7t+N"),D=s.n(R),E=(s("69uM"),{name:"TagsDialog",props:["item"],data(){return{name:null!==this.item?this.item.name:null,status:null,tags:[]}},methods:{getName(){return null!==this.item?this.item.name:""},save(){this.tags=D()("#tagsInput").tagsinput("items"),(new u.a).setTags(this.item.path,this.tags,t=>{this.status=t.status,"OK"===this.status&&this.close()})},onShow(){D()("#tagsInput").tagsinput("removeAll"),(new u.a).getTags(this.item.path,t=>{this.tags=t,this.tags.forEach(t=>{D()("#tagsInput").tagsinput("add",t)})})},close(){this.$parent.tagsItem=null}},watch:{item(){this.name=this.getName(),null!==this.item&&this.onShow()}}}),$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.item,expression:"item"}]},[s("div",{staticClass:"menuoverlay",on:{click:function(e){t.close()}}}),t._v(" "),s("div",{staticClass:"dialog",attrs:{id:"renameDialog"}},[s("div",{staticClass:"head"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("pictures.tags"))+" "+t._s(t.getName())+"\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"newname"}},[t._v("Name:")]),t._v(" "),s("input",{attrs:{id:"tagsInput",type:"text","data-role":"tagsinput"}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")]),t._v(" "+t._s(t.$t("pictures.rename_dialog_failed"))+"\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.save()}}},[t._v(t._s(t.$t("pictures.rename_dialog_save")))]),t._v(" "),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.close()}}},[t._v(t._s(t.$t("pictures.rename_dialog_cancel")))])])])])])},staticRenderFns:[]};var O=s("VU/8")(E,$,!1,function(t){s("0WEj")},null,null).exports;var M={name:"Lightbox",props:["items","selectedItem"],data:()=>({swipe:null,SERVER_PATH:""}),computed:{hasNext(){return this.items.indexOf(this.selectedItem)+1<this.items.length},hasPrevious(){return this.items.indexOf(this.selectedItem)-1>=0},index(){return this.items.indexOf(this.selectedItem)},maxItems(){return this.items.length},isFragment(){return this.$parent.isFragment}},methods:{close(){this.$parent.selectedItem=null,this.swipe=null},next(){if(this.hasNext){let t=this.items.indexOf(this.selectedItem);this.$parent.selectedItem=this.items[t+1],this.onShow()}},previous(){if(this.hasPrevious){let t=this.items.indexOf(this.selectedItem);this.$parent.selectedItem=this.items[t-1],this.onShow()}},onFavorite(){this.$parent.favoriteItem=this.selectedItem},scrollToItem(){let t=this.selectedItem.path.replace(/\//g,"_"),e=document.getElementById(t);void 0!==e&&null!==e&&e.scrollIntoView()},onLoadMoreItems(){this.$parent.onLoadMoreItems()},onShow(){let t=new Image;t.src=this.selectedItem.thumb;let e=document.getElementById("lightbox_image");t.width>=t.height?(e.style.maxWidth="100%",e.style.maxHeight=void 0):(e.style.maxHeight=window.innerHeight-.3*window.innerHeight+"px",e.style.maxWidth=void 0);let s=document.getElementById("lightbox_window"),a=window.innerWidth/2-e.width/2;s.style.left=a+"px",this.scrollToItem(),null==this.swipe&&this.addSwipeListener()},addSwipeListener(){this.swipe=new class{constructor(t,e,s,a,i){t.addEventListener("touchstart",this.handleTouchStart,!1),t.addEventListener("touchmove",this.handleTouchMove,!1),this.xDown=null,this.yDown=null,this.onLeft=e,this.onRight=s,this.onUp=a,this.onDown=i}handleTouchStart(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY}handleTouchMove(t){if(!this.xDown||!this.yDown)return;let e=t.touches[0].clientX,s=t.touches[0].clientY,a=this.xDown-e,i=this.yDown-s;Math.abs(a)>Math.abs(i)?a>0?null===this.onLeft&&null===this.onLeft||this.onLeft():null===this.onRight&&null===this.onRight||this.onRight():i>0?null===this.onUp&&null===this.onUp||this.onUp():null===this.onDown&&null===this.onDown||this.onDown(),this.xDown=null,this.yDown=null}}(document.getElementById("lightbox_window"),()=>{this.next()},function(){this.previous()})}},updated(){null!==this.selectedItem&&this.onShow()},created(){document.onkeydown=(t=>{39===(t=t||window.event).keyCode&&this.hasNext&&this.next(),37===t.keyCode&&this.hasPrevious&&this.previous()}),D()(window).resize(()=>{this.onShow()})},watch:{selectedItem(){}}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.selectedItem?s("div",{attrs:{id:"lightbox"},on:{keydown:function(e){return e.preventDefault(),t.onKeydown(e)}}},[s("div",{staticClass:"menuoverlay",on:{click:function(e){t.close()}}}),t._v(" "),s("div",{attrs:{id:"lightbox_window"}},[s("div",{staticClass:"picture_position"},[t._v("\n\t\t\t\t\t"+t._s(t.index+1)+" "+t._s(t.$t("pictures.of"))+" "+t._s(t.maxItems)+"\n\t\t\t\t")]),t._v(" "),s("img",{staticClass:"preview",attrs:{id:"lightbox_image",src:t.SERVER_PATH+t.selectedItem.thumb}}),t._v(" "),s("div",{staticClass:"window_buttons"},[s("button",{staticClass:"close window_button",attrs:{type:"button"},on:{click:function(e){t.close()}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"close window_button",attrs:{type:"button",disabled:!t.hasPrevious},on:{click:function(e){t.previous()}}},[s("i",{staticClass:"fa fa-arrow-left",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"close window_button",attrs:{type:"button",disabled:!t.hasNext},on:{click:function(e){t.next()}}},[s("i",{staticClass:"fa fa-arrow-right",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("a",{staticClass:"close window_button",attrs:{href:"ext"+t.selectedItem.path,target:"_blank",download:""}},[s("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"close window_button",attrs:{type:"button"},on:{click:function(e){t.onFavorite()}}},[s("i",{staticClass:"fa fa-star",attrs:{"aria-hidden":"true"}})])]),t._v(" "),t.isFragment&&!t.hasNext?s("div",[s("button",{staticClass:"btn btn-secondary moreImagesBtn",attrs:{type:"button"},on:{click:function(e){t.onLoadMoreItems()}}},[t._v("\n\t\t                "+t._s(t.$t("pictures.load_more"))+"\n\t\t            ")])]):t._e()])]):t._e()])},staticRenderFns:[]};var B=s("VU/8")(M,N,!1,function(t){s("g+Ot")},null,null).exports,F={name:"FileBrowser",components:{Breadcrumb:m,FileItem:b,ItemContextMenu:v,RenameDialog:x,DeleteConfirmDialog:k,TagsDialog:O,FavoriteDialog:I,Lightbox:B},props:[],data:()=>({items:null,path:null,currentPath:null,selectedItem:null,renameItem:null,deleteItem:null,tagsItem:null,favoriteItem:null,currentItem:null,isLoading:!0,isFragment:!1,isProcessing:!1,page:1}),methods:{refresh(){this.path=this.$route.params.path,this.scan(this.path)},scan(t){this.isLoading=!0,(new u.a).scan(t,t=>{this.items=t.items,this.isLoading=!1,this.isFragment=t.fragment,this.currentPath=t.path,this.isProcessing=t.processing,this.currentItem=t})},onLoadMoreItems(){this.isLoading=!0,(new u.a).loadMore(this.currentPath,this.page,30,t=>{this.items=this.items.concat(t.items),this.isLoading=!1,this.isFragment=t.fragment,this.currentPath=t.path,this.currentItem=t,this.page+=1})},goBack(){this.$router.go(-1)},onToggleDirectoryMenu(){this.$refs.dirContextMenu.toggleMenu()}},computed:{isItemListEmpty(){return null===this.items||0===this.items.length}},watch:{$route:"refresh"},created(){this.refresh()}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"filebrowser"}},[a("breadcrumb",{attrs:{path:t.path}}),t._v(" "),"/"!=t.currentPath?a("div",{staticClass:"directoryOptions"},[a("div",{staticClass:"menu_button",on:{click:function(e){t.onToggleDirectoryMenu()}}},[a("i",{staticClass:"fa fa-caret-square-o-down",attrs:{"aria-hidden":"true",id:"currentItemContextButton"}})]),t._v(" "),a("itemContextMenu",{ref:"dirContextMenu",attrs:{item:t.currentItem,parent:this}})],1):t._e(),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"items"},t._l(t.items,function(e){return a("file-item",{key:e.path,attrs:{item:e,selectedItem:t.selectedItem}})}))]),t._v(" "),t.isFragment?a("div",{staticClass:"moreImagesContainer"},[a("button",{staticClass:"btn btn-secondary moreImagesBtn",attrs:{type:"button"},on:{click:function(e){t.onLoadMoreItems()}}},[t._v("\n          "+t._s(t.$t("pictures.load_more"))+"\n      ")])]):t._e(),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isLoading?a("img",{staticClass:"loading",attrs:{src:s("G/2H")}}):t._e()]),t._v(" "),a("lightbox",{attrs:{items:t.items,selectedItem:t.selectedItem}}),t._v(" "),t.isItemListEmpty&&!t.isProcessing?a("div",{staticClass:"not_found_center"},[a("i",{staticClass:"fa fa-frown-o",staticStyle:{"font-size":"20em",color:"rgba(0, 0, 0, 0.27)"},attrs:{"aria-hidden":"true"}}),t._v(" "),a("h4",[t._v(t._s(t.$t("pictures.not_found")))]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(e){t.goBack()}}},[t._v("\n          "+t._s(t.$t("pictures.go_back")))])]):t._e(),t._v(" "),t.isItemListEmpty&&t.isProcessing?a("div",{staticClass:"not_found_center"},[a("i",{staticClass:"fa fa-spinner",staticStyle:{"font-size":"20em",color:"rgba(0, 0, 0, 0.27)"},attrs:{"aria-hidden":"true"}}),t._v(" "),a("h4",[t._v(t._s(t.$t("pictures.not_found")))]),t._v(" "),a("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.refresh()}}},[t._v("\n          "+t._s(t.$t("pictures.reload")))])]):t._e(),t._v(" "),a("renameDialog",{attrs:{item:t.renameItem}}),t._v(" "),a("deleteConfirmDialog",{attrs:{item:t.deleteItem}}),t._v(" "),a("favoriteDialog",{attrs:{item:t.favoriteItem}}),t._v(" "),a("tagsDialog",{attrs:{item:t.tagsItem}})],1)},staticRenderFns:[]};var V=s("VU/8")(F,z,!1,function(t){s("CAfU")},null,null).exports,T=s("Stip"),L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"approval"}},[s("div",{staticClass:"picPanel"},[s("transition",{attrs:{name:"fadeIn"}},[t.selectedPic?s("img",{key:t.selectedPic,staticClass:"selectedPic",attrs:{src:t.SERVER_PATH+t.selectedPic,id:"mainPic","data-zoom-image":t.selectedPic}}):t._e()])],1),t._v(" "),s("div",{staticClass:"pictureNavigation"},[s("ul",t._l(t.pictures,function(e,a){return s("li",{key:a},[s("img",{staticClass:"preview",class:{isSelected:e===t.selectedPic},attrs:{src:t.SERVER_PATH+e},on:{click:function(s){t.onPictureSelect(e)}}})])}))]),t._v(" "),s("div",{staticClass:"judgepanel"},[s("div",{staticClass:"judgeButton green",on:{click:t.onAccept}},[s("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}),t._v("\n              "+t._s(t.$t("approval.accept"))+"\n              ")]),t._v(" "),s("div",{staticClass:"spacer"}),t._v(" "),s("div",{staticClass:"judgeButton red",on:{click:t.onDecline}},[s("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v("\n              "+t._s(t.$t("approval.decline"))+"\n          ")])])])},staticRenderFns:[]};var U=function(t){s("V9re")},j=s("VU/8")(T.a,L,!1,U,null,null).exports,H={name:"Search",components:{Lightbox:B,FileItem:b},data:()=>({search:null,selectedItem:null,items:[],lastSearch:null,isLoading:!1,SERVER_PATH:""}),computed:{isEmptyResultSet:function(){return this.search===this.lastSearch&&null!==this.search&&this.search.length>0&&0===this.items.length}},methods:{onSearch:function(){this.isLoading=!0,(new u.a).search(this.search,t=>{this.items=t,this.lastSearch=this.search,this.isLoading=!1})}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search_panel"},[s("transition",{attrs:{name:"fade"}},[t.isLoading?s("img",{staticClass:"loading",attrs:{src:"img/loading.gif"}}):t._e()]),t._v(" "),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{id:"searchinput",type:"text",placeholder:t.$t("search.searchbar")},domProps:{value:t.search},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.onSearch()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),s("span",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.onSearch()}}},[t._v(t._s(t.$t("search.search_button")))])])]),t._v(" "),s("div",{attrs:{id:"foundItems"}},[t.isEmptyResultSet?s("span",[t._v(t._s(t.$t("search.no_results")))]):t._e(),t._v(" "),t._l(t.items,function(e){return s("file-item",{key:e.path,attrs:{item:e,selectedItem:t.selectedItem}})})],2),t._v(" "),t.items?s("lightbox",{attrs:{items:t.items,selectedItem:t.selectedItem}}):t._e()],1)},staticRenderFns:[]};var G=s("VU/8")(H,W,!1,function(t){s("iUv7")},null,null).exports,K={name:"Approval",props:[],components:{Lightbox:B,FileItem:b},data:()=>({albums:[],album:{},albumname:null,selectedItem:null}),methods:{init(){(new u.a).getAlbums(t=>{this.albums=t})},refresh(){let t=this.$route.params.albumpath;void 0!==t&&(new u.a).getAlbum(t,t=>{this.album=t})},open(t){this.$router.push({path:"/albums/"+t})},goBack(){this.$router.go(-1)}},computed:{},watch:{$route:"refresh",albumname(){this.open(this.albumname)}},created(){this.init(),this.refresh()}},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"albumbrowser"}},[s("div",{attrs:{id:"albumselector"}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"sel2"}},[t._v(t._s(t.$t("album.select"))+":")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.albumname,expression:"albumname"}],staticClass:"form-control",attrs:{id:"sel2"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.albumname=e.target.multiple?s:s[0]}}},t._l(t.albums,function(e,a){return s("option",{key:a,attrs:{label:e},domProps:{value:e}},[t._v(t._s(e))])}))])]),t._v(" "),s("div",{attrs:{id:"albumitems"}},t._l(t.album.items,function(e){return s("file-item",{key:e.path,attrs:{item:e,selectedItem:t.selectedItem}})})),t._v(" "),t.album.items?s("lightbox",{attrs:{items:t.album.items,selectedItem:t.selectedItem}}):t._e()],1)},staticRenderFns:[]};var q=s("VU/8")(K,X,!1,function(t){s("tNZ5")},null,null).exports,Z={name:"Status",data:()=>({statusData:{},intervalId:null}),computed:{freespaceInGb(){return(this.statusData.freespace/1024).toFixed(1)},maxspaceInGb(){return(this.statusData.maxspace/1024).toFixed(1)},numberOfPictures(){return this.statusData.numberOfPictures}},methods:{fetchStatus(){(new u.a).status(t=>{this.statusData=t})}},created(){this.fetchStatus(),this.intervalId=setInterval(this.fetchStatus,3e3)},beforeDestroy(){clearInterval(this.intervalId)}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status_panel"},[s("div",{staticClass:"batch"},[s("p",{staticClass:"title"},[t._v(t._s(t.$t("status.import_state")))]),t._v(" "),s("p",{staticClass:"binfo"},[t._v(t._s(t.statusData.importStatus))])]),t._v(" "),s("div",{staticClass:"batch"},[s("p",{staticClass:"title"},[t._v(t._s(t.$t("status.remaining_files")))]),t._v(" "),s("p",{staticClass:"binfo"},[t._v(t._s(t.statusData.remainingfiles))])]),t._v(" "),s("div",{staticClass:"batch"},[s("p",{staticClass:"title"},[t._v(t._s(t.$t("status.current_file")))]),t._v(" "),s("p",{staticClass:"binfo"},[t._v(t._s(t.statusData.file))])]),t._v(" "),s("div",{staticClass:"batch"},[s("p",{staticClass:"title"},[t._v(t._s(t.$t("status.free_space")))]),t._v(" "),s("p",{staticClass:"binfo"},[t._v(t._s(t.freespaceInGb)+" GB")])]),t._v(" "),s("div",{staticClass:"batch"},[s("p",{staticClass:"title"},[t._v(t._s(t.$t("status.max_space")))]),t._v(" "),s("p",{staticClass:"binfo"},[t._v(t._s(t.maxspaceInGb)+" GB")])]),t._v(" "),s("div",{staticClass:"batch"},[s("p",{staticClass:"title"},[t._v(t._s(t.$t("status.number_of_pictures")))]),t._v(" "),s("p",{staticClass:"binfo"},[t._v(t._s(t.numberOfPictures))])])])},staticRenderFns:[]};var Q=s("VU/8")(Z,J,!1,function(t){s("yMjA")},null,null).exports,Y=s("KvPw"),tt={name:"Upload",components:{vueDropzone:s.n(Y).a},data:()=>({dropzoneOptions:{url:"api/upload",thumbnailWidth:150,maxFilesize:50}})},et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"upload"}},[e("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:this.dropzoneOptions}})],1)},staticRenderFns:[]};var st=s("VU/8")(tt,et,!1,function(t){s("jwIz")},null,null).exports,at={name:"ChangeStorage",data:()=>({status:null,path:null}),computed:{isStatusOk(){return"OK"===this.status}},methods:{changePath(){(new u.a).changePath(this.path,t=>{this.status=t.status})},fetchCurrentPath(){(new u.a).getPath(t=>{this.path=t})}},created(){this.fetchCurrentPath()}},it={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[t._v(t._s(t.$t("settings.storage_path_head")))]),t._v(" "),s("div",{staticClass:"panel-body"},[s("p",[t._v(t._s(t.$t("settings.storage_path_description")))]),t._v(" "),s("form",{staticClass:"form-horizontal"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.path,expression:"path"}],staticClass:"form-control",attrs:{type:"text",id:"pathinput",placeholder:""},domProps:{value:t.path},on:{input:function(e){e.target.composing||(t.path=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-2 col-sm-10"},[s("button",{staticClass:"btn btn-default",on:{click:function(e){t.changePath()}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("settings.storage_path_start")))])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isStatusOk,expression:"isStatusOk"}],staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.saved"))+"!")]),t._v(t._s(t.$t("storage_path_success"))+"\n\t\t\t")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")]),t._v(t._s(t.$t("settings.storage_path_failed"))+"\n\t\t\t")])])])},staticRenderFns:[]};var nt=s("VU/8")(at,it,!1,function(t){s("4OCG")},null,null).exports,rt={name:"CreateThumbnails",data:()=>({status:null}),computed:{isStatusOk(){return"OK"===this.status}},methods:{createThumbnails(){(new u.a).createThumbnails(t=>{this.status=t.status})}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[t._v(t._s(t.$t("settings.storage_thumbnails_head")))]),t._v(" "),s("div",{staticClass:"panel-body"},[s("p",[t._v(t._s(t.$t("settings.storage_thumbnails_description")))]),t._v(" "),s("button",{staticClass:"btn btn-default",on:{click:function(e){t.createThumbnails()}}},[t._v("\n\t\t\t\t"+t._s(t.$t("settings.storage_thumbnails_start")))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isStatusOk,expression:"isStatusOk"}],staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.saved"))+"!")]),t._v(t._s(t.$t("settings.storage_thumbnails_success"))+"\n\t\t\t")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")]),t._v(t._s(t.$t("settings.storage_thumbnails_failed"))+"\n\t\t\t")])])])},staticRenderFns:[]};var lt=s("VU/8")(rt,ot,!1,function(t){s("NNc6")},null,null).exports,ct={name:"ImportFormat",data:()=>({format:null,status:null}),computed:{isStatusOk(){return"OK"===this.status}},methods:{fetchImportPattern(){(new u.a).fetchImportPattern(t=>{this.format=t})},saveImportPattern(){(new u.a).saveImportPattern(this.format,t=>{this.status=t.status})}},created(){this.fetchImportPattern()}},ut={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[t._v(t._s(t.$t("settings.import_pattern_head")))]),t._v(" "),s("div",{staticClass:"panel-body"},[s("p",[t._v(t._s(t.$t("settings.import_pattern_description")))]),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.$t("settings.import_pattern_keywords"))}}),t._v(" "),s("form",{staticClass:"form-horizontal"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formatinput"}},[t._v(t._s(t.$t("settings.import_pattern_formatting")))]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.format,expression:"format"}],staticClass:"form-control",attrs:{type:"text",id:"formatinput",placeholder:"format"},domProps:{value:t.format},on:{input:function(e){e.target.composing||(t.format=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-2 col-sm-10"},[s("button",{staticClass:"btn btn-default",on:{click:function(e){t.saveImportPattern()}}},[t._v(t._s(t.$t("settings.import_pattern_save")))])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isStatusOk,expression:"isStatusOk"}],staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.saved"))+"!")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")])])])])},staticRenderFns:[]};var dt=s("VU/8")(ct,ut,!1,function(t){s("+97c")},null,null).exports,ht={name:"SecurityAccess",data:()=>({credentials:{username:"",password:""},status:null}),computed:{isStatusOk(){return"OK"===this.status}},methods:{fetchCredentials(){(new u.a).fetchCredentials(t=>{t?this.credentials=t:(this.credentials.username="",this.credentials.password="")})},saveCredentials(){(new u.a).saveCredentials(this.credentials.username,this.credentials.password,t=>{this.status=t.status})},resetCredentials(){(new u.a).resetCredentials(t=>{this.status=t.status})}},created(){this.fetchCredentials()}},mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[t._v(t._s(t.$t("settings.access_auth_head")))]),t._v(" "),s("div",{staticClass:"panel-body"},[s("p",[t._v(t._s(t.$t("settings.access_auth_description")))]),t._v(" "),s("form",{staticClass:"form-horizontal"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label",attrs:{for:"inputUsername"}},[t._v(t._s(t.$t("settings.access_auth_username")))]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.username,expression:"credentials.username"}],staticClass:"form-control",attrs:{type:"text",id:"inputUsername",placeholder:t.$t("settings.access_auth_username")},domProps:{value:t.credentials.username},on:{input:function(e){e.target.composing||t.$set(t.credentials,"username",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 control-label",attrs:{for:"inputPassword3"}},[t._v(t._s(t.$t("settings.access_auth_password")))]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword3",placeholder:t.$t("settings.access_auth_password")},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-2 col-sm-10"},[s("button",{staticClass:"btn btn-default",on:{click:function(e){t.saveCredentials()}}},[t._v(t._s(t.$t("settings.access_auth_save")))]),t._v(" "),s("button",{staticClass:"btn btn-default",on:{click:function(e){t.resetCredentials()}}},[t._v(t._s(t.$t("settings.access_auth_reset")))])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isStatusOk,expression:"isStatusOk"}],staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.saved"))+"!")]),t._v(t._s(t.$t("settings.access_auth_success"))+"\n\t\t")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.status,expression:"status === 'ERROR'"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.status=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("strong",[t._v(t._s(t.$t("settings.failed"))+"!")]),t._v(t._s(t.$t("settings.access_auth_failed"))+"\n\t\t")])])])},staticRenderFns:[]};var pt={name:"Settings",components:{SecurityAccess:s("VU/8")(ht,mt,!1,function(t){s("YtMr")},null,null).exports,ImportFormat:dt,CreateThumbnails:lt,ChangeStorage:nt},data:()=>({}),computed:{},methods:{}},_t={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"settings_panel"}},[e("h1",[this._v(this._s(this.$t("menu.settings")))]),this._v(" "),e("security-access"),this._v(" "),e("import-format"),this._v(" "),e("create-thumbnails"),this._v(" "),e("change-storage")],1)},staticRenderFns:[]};var vt=s("VU/8")(pt,_t,!1,function(t){s("CD2p")},null,null).exports,ft={name:"About",data:()=>({})},gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"about"}},[s("div",{staticClass:"about_panel"},[s("h1",[t._v(t._s(t.$t("about.head")))]),t._v(" "),s("h2",[t._v(t._s(t.$t("about.background_head")))]),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.$t("about.background_text"))}}),t._v(" "),s("h2",[t._v(t._s(t.$t("about.author_and_contact_head")))]),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.$t("about.author_and_contact_text"))}})])])},staticRenderFns:[]};var bt=s("VU/8")(ft,gt,!1,function(t){s("v99W")},null,null).exports;a.a.use(c.a);var wt=new c.a({routes:[{path:"/photos/",redirect:"/photos/%252F",component:V,alias:"/"},{path:"/photos/:path?",name:"path",component:V},{path:"/approval/",component:j},{path:"/search/",component:G},{path:"/albums/",component:q},{path:"/albums/:albumpath?",name:"albumpath",component:q},{path:"/status",component:Q},{path:"/upload",component:st},{path:"/settings",component:vt},{path:"/about",component:bt}]}),Ct=s("TXmL"),xt={messages:{en:{menu:{pictures:"Pictures",approval:"Picture approval",search:"Search for pictures",albums:"Albums",status:"Status",upload:"Upload",settings:"Settings",about:"About"},approval:{accept:"Accept (import)",decline:"Decline (delete)"},pictures:{of:"of",not_found:"No pictures found.",go_back:"Go back",download:"Download",rename:"Rename",delete:"Delete",tags:"TAGs",waitforthumb:"Creating thumbnail... Please reload.",load_more:"Load more ...",reload:"Currently the directory will be processed. Please reload",rename_dialog_head:"Rename element",rename_dialog_save:"Save",rename_dialog_cancel:"Cancel",rename_dialog_failed:"File could not be renamed. Maybe the file already exists.",delete_dialog_head:"Delete element",delete_dialog_content:"Do you want to delete the following element?",delete_dialog_delete:"Delete",delete_dialog_cancel:"Cancel",delete_dialog_failed:"Element could not be deleted.",favorite_dialog_head:"Add file to album",favorite_dialog_new:"New album",favorite_dialog_existing:"Existing album",favorite_dialog_name:"New album name",favorite_dialog_select:"Select album",favorite_dialog_add:"Add to album"},album:{select:"Select album"},search:{searchbar:"Search for name, TAG, date ...",search_button:"Search",no_results:"No files found."},status:{import_state:"Import state",remaining_files:"Remaining files",current_file:"Current file",free_space:"Free space",max_space:"Max space",number_of_pictures:"Number of pictures"},upload:{drop_files:"Drop files here to upload"},settings:{saved:"Saved",failed:"Error",access_auth_head:"Security: Access by authentication",access_auth_description:"Set up a username and password for a basic authenication before you access phobox. If your wireless network is open for other user, you can secure the access to your photos.",access_auth_username:"Username",access_auth_password:"Password",access_auth_save:"Save credentials",access_auth_reset:"Delete credentials",access_auth_success:"Restart the application to activate this setting.",access_auth_failed:"New settings could not saved.",import_pattern_head:"Import: Directory format",import_pattern_description:"Define a import format for all new incoming files. Use markers and directory separator to configure the format for the target directory. The data will be catched from the EXIF data of the picture.",import_pattern_keywords:"\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>%Y - Use it for the year of creation of the picture (f.e. 2020)</li>\n\t\t\t\t\t\t<li>%M - Use it for the month of creation of the picture (f.e. 12)</li>\n\t\t\t\t\t\t<li>%D - Use it for the day of creation of the picture (f.e. 24)</li>\n\t\t\t\t\t\t<li> / - Use it for the directory separation, if you want to create subdirectories</li>\n\t\t\t\t\t</ul>",import_pattern_formatting:"Import formatting",import_pattern_save:"Save pattern",storage_thumbnails_head:"Storage: Recreate thumbnails",storage_thumbnails_description:"Recreates the thumbnail pictures and updates the internal database.",storage_thumbnails_start:"Start recreation now",storage_thumbnails_success:"All new incoming files will be saved with the new format.",storage_thumbnails_failed:"New settings could not saved.",storage_path_head:"Storage: Change storage main path",storage_path_description:"Change the main path to your stored pictures. Phobox need an existing absolute path to the new storage directory.",storage_path_start:"Save path",storage_path_success:"Path successful changed",storage_path_failed:"Path could not changed"},about:{head:"About Phobox",background_head:"Background",background_text:"<p>Phobox is born as a private project to be a lean solution to get a fast and easy access to my personal pictures at home on different devices. It should be a lightweight extention to an existing picture storage and can be used as simple picture organizer, too.</p>\n\t\t\t\t\t<p>With Phobox you get a light HTTP-Server which will be provide your images in your private network and your local device. Moreover it's possible to import new images to storage and let be automatically placed in the correct directory struture.</p>",author_and_contact_head:"Author and Contact",author_and_contact_text:'<p>Author: Nick Müller</p>\n\t\t\t\t\t<p>Contact at <a href="https://github.com/milchreis/phobox">Github</a></p>'}},de:{menu:{pictures:"Bilder",approval:"Bilder prüfen",search:"Bildersuche",albums:"Alben",status:"Status",upload:"Upload",settings:"Einstellungen",about:"Über Phobox"},approval:{accept:"Annehmen und importieren",decline:"Verweigern und löschen"},pictures:{of:"von",not_found:"Keine Bilder gefunden.",go_back:"Zurück",download:"Herunterladen",rename:"Umbenennen",delete:"Löschen",tags:"Schlagworte",waitforthumb:"Erstelle Vorschaubild... Bitte aktualisieren.",load_more:"Weitere laden ...",reload:"Aktuell wird das Verzeichnis aufgebaut. Bitte neuladen",rename_dialog_head:"Umbenennen von",rename_dialog_save:"Speichern",rename_dialog_cancel:"Abbrechen",rename_dialog_failed:"Datei konnte nicht umbenannt werden. Eventuell existiert die Datei bereits.",delete_dialog_head:"Löschen von",delete_dialog_content:"Soll das folgende Element wirklich gelöscht werden?",delete_dialog_delete:"Löschen",delete_dialog_cancel:"Abbrechen",delete_dialog_failed:"Element konnte nicht gelöscht werden.",favorite_dialog_head:"Datei zu einem Album hinzufügen",favorite_dialog_new:"Neues Album",favorite_dialog_existing:"Vorhandenes Album",favorite_dialog_name:"Name des neuen Albums",favorite_dialog_select:"Album auswählen",favorite_dialog_add:"Hinzufügen"},album:{select:"Album auswählen"},search:{searchbar:"Suche nach Namen, Schlagworten, Datum ...",search_button:"Suchen",no_results:"Keine Dateien gefunden."},status:{import_state:"Importstatus",remaining_files:"Wartende Dateien",current_file:"Bearbeitete Datei",free_space:"Freier Speicher",max_space:"Gesamtspeicher",number_of_pictures:"Bilderanzahl"},upload:{drop_files:"Klick oder Ziehe Datei hier zum hochladen"},settings:{saved:"Gespeichert",failed:"Fehler",access_auth_head:"Sicherheit: Zugang mit Nutzerauthentifizierung",access_auth_description:"Lege einen Benutzernamen und ein Password fest, um den Zugang zur Phobox zu sichern. Wenn dein WLAN zugänglich für andere Nutzer ist, kannst du so deine Bilder schützen.",access_auth_username:"Benutzername",access_auth_password:"Passwort",access_auth_save:"Logindaten speichern",access_auth_reset:"Logindaten löschen",access_auth_success:"Anwendung muss neugestartet werden, damit die Einstellung funktioniert.",access_auth_failed:" Einstellung konnte nicht gespeichert werden.",import_pattern_head:"Import: Verzeichnissturktur",import_pattern_description:"Lege ein Importformat für alle neu hinzugefügten Dateien fest. Mit der Verwendung von Markern und Verzeichnis-Trennern kann die Zielverzeichnisstruktur konfiguriert werden. Die Daten werden aus den EXIF-Informationen der Bilder gelesen.",import_pattern_keywords:"\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>%Y - Benutze für das Erstellungsjahr des Bildes (z.B. 2020)</li>\n\t\t\t\t\t\t<li>%M - Benutze für den Erstellungsmonat des Bildes (z.B. 12)</li>\n\t\t\t\t\t\t<li>%D - Benutze für den Erstellungstag des Bildes (z.B. 24)</li>\n\t\t\t\t\t\t<li> / - Benutze als Verzeichnistrenner, wenn Unterverzeichnisse erzeugt werden sollen</li>\n\t\t\t\t\t</ul>",import_pattern_formatting:"Format",import_pattern_save:"Konfiguration speichern",storage_thumbnails_head:"Speicher: Vorschaubilder erzeugen",storage_thumbnails_description:"Erstellt für alle Bilder die Vorschaubilder erneut und aktualisiert die interne Datenbank.",storage_thumbnails_start:"Vorschaubilder-Erstellung starten",storage_thumbnails_success:"Alle neuen Dateien werden mit den neuen Format gespeichert",storage_thumbnails_failed:"Neue Einstellung konnte nicht gespeichert werden.",storage_path_head:"Speicher: Änderung des Bilderverzeichnisses",storage_path_description:"Ändere hier den Hauptpfad zu deinen gespeicherten Bildern. Phobox benötigt einen vorhandenen absoluten Pfad zu dem neuen Zielverzeichnis.",storage_path_start:"Pfad speichern",storage_path_success:"Pfad erfolgreich geändert",storage_path_failed:"Pfad konnte nicht geändert werden."},about:{head:"Über Phobox",background_head:"Hintergrund",background_text:"<p>Phobox wurde als privates Projekt gestartet, um eine schlanke Lösung für den schnellen und einfachen Zugriff auf die eigenen Bilder zuhause von verschiedenen Geräten zu erhalten. Es soll eine leichtgewichtige Erweiterung von bereits vorhandenen Bildersammlungen sein und auch als einfacher Bildspeicher-Organizer verwendet werden können.</p>\n\t\t\t\t\t\t\t\t<p>Mit Phobox erhält man einen kleinen HTTP-Server, welcher die Bilder in einem lokalen Netzwerk für alle Geräte bereitstellt. Darüber hinaus ist es möglich neue Bilder in die Sammlung hinzufügen und automatisch in die Verzeichnissturktur einsortieren zu lassen.</p>",author_and_contact_head:"Autor und Kontakt",author_and_contact_text:'<p>Autor: Nick Müller</p>\n\t\t\t\t\t<p>Kontakt über <a href="https://github.com/milchreis/phobox">Github</a></p>'}}},getBrowserLocale:()=>(navigator.language||navigator.userlanguage).substring(0,2)};a.a.config.productionTip=!1,a.a.use(Ct.a),new a.a({el:"#app",router:wt,i18n:new Ct.a({locale:xt.getBrowserLocale(),messages:xt.messages}),components:{App:l},template:"<App/>"}),String.prototype.replaceAll=function(t,e){return this.split(t).join(e)}},NNc6:function(t,e){},NhDq:function(t,e){},PuHX:function(t,e){},Qwmv:function(t,e){},Stip:function(t,e,s){"use strict";(function(t){var a=s("xs0L"),i=s("FopW"),n=s.n(i);e.a={name:"Approval",props:[],components:{ProductZoomer:n.a},data:()=>({pictures:[],selectedPic:null,status:null,images:{normal_size:[]},zoomerOptions:{zoomFactor:4,pane:"container",hoverDelay:300,namespace:"container-zoomer",move_by_click:!0,scroll_items:4,choosed_thumb_border_color:"#ff3d00"},SERVER_PATH:""}),methods:{init(){(new a.a).getApprovalPictures(t=>{this.pictures=t,this.selectedPic=this.pictures.length>0?this.pictures[0]:null})},onPictureSelect(t){this.selectedPic=t,this.images.normal_size=[{id:this.selectedPic,url:this.selectedPic}]},setMagnification(){null!==this.selectedPic&&setTimeout(()=>{t("#mainPic").elevateZoom({zoomType:"lens",zoomLens:!1,lensShape:"square",lensSize:300})},500)},onAccept(){if(null===this.selectedPic)return;let t=this.selectedPic.substr(3,this.selectedPic.length);(new a.a).acceptApprovalPicture(t,t=>{this.status=t.status,this.init()})},onDecline(){if(null===this.selectedPic)return;let t=this.selectedPic.substr(3,this.selectedPic.length);(new a.a).declineApprovalPicture(t,t=>{this.status=t.status,this.init()})},next(){if(this.hasNext){let t=this.pictures.indexOf(this.selectedPic);this.selectedPic=this.pictures[t+1],this.scrollToPreview()}},previous(){if(this.hasPrevious){let t=this.pictures.indexOf(this.selectedPic);this.selectedPic=this.pictures[t-1],this.scrollToPreview()}},stopZoom(){t.removeData(t("#mainPic"),"elevateZoom"),t(".zoomContainer").remove()}},computed:{hasNext:function(){return this.pictures.indexOf(this.selectedPic)+1<this.pictures.length},hasPrevious:function(){return this.pictures.indexOf(this.selectedPic)-1>=0}},watch:{},created(){this.init(),document.onkeydown=(t=>{39===(t=t||window.event).keyCode&&this.hasNext&&this.next(),37===t.keyCode&&this.hasPrevious&&this.previous()})},beforeDestroy(){this.stopZoom()}}}).call(e,s("7t+N"))},V9re:function(t,e){},YtMr:function(t,e){},"g+Ot":function(t,e){},iUv7:function(t,e){},jwIz:function(t,e){},tNZ5:function(t,e){},v99W:function(t,e){},vYJG:function(t,e,s){t.exports=s.p+"static/img/directory.424ebff.png"},xs0L:function(t,e,s){"use strict";var a=s("7t+N"),i=s.n(a);e.a=function(){this.getData=function(t){return repsonse},this.encodePath=function(t){return void 0===t&&(t="/"),t.replace(new RegExp("%2F","g"),"%252F").replace(/\//g,"%252F")},this.decodePath=function(t){return void 0===t&&(t=""),t.replace(new RegExp("%2F","g"),"/").replace(new RegExp("%252F","g"),"/")},this.scan=function(t,e){var s=this.encodePath(t);return i.a.get("api/photos/scan/"+s+"?sort=creation,file_name&creation.dir=asc&file_name.dir=asc").done(e)},this.loadMore=function(t,e,s,a){var n=this.encodePath(t);return i.a.get("api/photos/scan/"+n+"/?page="+e+"&size="+s+"&sort=creation,file_name&creation.dir=asc&file_name.dir=asc").done(a)},this.status=function(t){return i.a.get("api/storage/status").done(t)},this.rename=function(t,e,s){var a=this.encodePath(t);return i.a.get("api/photo/rename/"+a+"/"+e).done(s)},this.delete=function(t,e){var s=this.encodePath(t);return i.a.get("api/photo/delete/"+s).done(e)},this.saveCredentials=function(t,e,s){return i.a.ajax({url:"api/settings/credentials/",type:"post",contentType:"application/json",data:JSON.stringify({username:t,password:e}),dataType:"json",success:s})},this.resetCredentials=function(t){return i.a.ajax({url:"/api/settings/credentials/",type:"DELETE",success:t})},this.fetchCredentials=function(t){return i.a.get("api/settings/credentials/").done(t)},this.fetchImportPattern=function(t){return i.a.get("api/settings/importPattern/").done(t)},this.saveImportPattern=function(t,e){return i.a.ajax({url:"api/settings/importPattern/",type:"post",contentType:"application/json",data:t,success:e})},this.getAlbums=function(t){return i.a.get("api/album/").done(t)},this.getAlbum=function(t,e){return i.a.get("api/album/"+t).done(e)},this.addToAlbum=function(t,e,s){return i.a.ajax({url:"api/album",type:"put",contentType:"application/json",data:JSON.stringify({albumName:e,itemPath:t}),dataType:"json",success:s})},this.createThumbnails=function(t){return i.a.get("api/storage/rethumb/").done(t)},this.getPath=function(t){return i.a.ajax({url:"api/settings/path",type:"get",success:t})},this.changePath=function(t,e){return i.a.ajax({url:"api/settings/path/",type:"post",contentType:"application/json",data:t,success:e})},this.getExif=function(t){var e=this.encodePath(t);return i.a.get("api/photo/exif/"+e).done(function(t){return t.data})},this.getItem=function(t){var e=this.encodePath(t);return i.a.get("api/photo/"+e).done(function(t){return t.data})},this.getTags=function(t,e){var s=this.encodePath(t);return i.a.get("api/tags/item/"+s).done(e)},this.getApprovalPictures=function(t){return i.a.get("api/approval/scan/").done(t)},this.acceptApprovalPicture=function(t,e){return i.a.ajax({url:"api/approval/accept/",type:"post",contentType:"application/json",data:t,success:e})},this.declineApprovalPicture=function(t,e){return i.a.ajax({url:"api/approval/decline/",type:"post",contentType:"application/json",data:t,success:e})},this.setTags=function(t,e,s){this.encodePath(t);return i.a.ajax({url:"api/tags/",type:"put",contentType:"application/json",data:JSON.stringify({tags:e,item:t}),dataType:"json",success:s})},this.search=function(t,e){return i.a.get("api/search/"+t).done(e)}}},yMjA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fa83a45155bf97fdafb4.js.map